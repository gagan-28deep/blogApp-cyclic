(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,s){},32:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},70:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s(13),c=s.n(r),n=(s(30),s(0)),i=function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsxs)("div",{className:"headerTitles",children:[Object(n.jsx)("span",{className:"headerTitleSm",children:"BLOGGING"}),Object(n.jsx)("span",{className:"headerTitleLg",children:"BLOG WEBSITE"})]}),Object(n.jsx)("img",{src:"https://images.pexels.com/photos/7925859/pexels-photo-7925859.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Header Image",className:"headerImg"})]})},l=s(3),o=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"UPDATED_USER":case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return e}},u={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},j=Object(a.createContext)(u),p=function(e){var t=e.children,s=Object(a.useReducer)(o,u),r=Object(l.a)(s,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){localStorage.setItem("user",JSON.stringify(c.user))}),[c.user]),Object(n.jsx)(j.Provider,{value:{user:c.user,isFetching:c.isFetching,error:c.error,dispatch:i},children:t})},d=(s(32),s(5)),b=function(){var e,t=Object(a.useContext)(j),s=t.user,r=t.dispatch;return Object(n.jsxs)("div",{className:"top",children:[Object(n.jsx)("div",{className:"topLeft"}),Object(n.jsx)("div",{className:"topCenter",children:Object(n.jsxs)("ul",{className:"topList",children:[Object(n.jsx)("li",{className:"topListItem",children:Object(n.jsx)(d.b,{to:"/",className:"link",children:"HOME"})}),Object(n.jsx)("li",{className:"topListItem link",children:Object(n.jsx)(d.b,{to:"/write",className:"link",children:"WRITE"})}),s?Object(n.jsxs)("li",{className:"topListItem link",children:[" ",Object(n.jsx)(d.b,{to:"#",className:"link",onClick:function(){r({type:"LOGOUT"})},children:"LOGOUT"})]}):null,s?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("li",{className:"topListItem link",children:[" ",Object(n.jsx)(d.b,{to:"/settings",className:"link",children:"SETTINGS"})]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("li",{className:"topListItem link",children:[" ",Object(n.jsx)(d.b,{to:"/register",className:"link",children:"REGISTER"})]}),Object(n.jsxs)("li",{className:"topListItem link",children:[" ",Object(n.jsx)(d.b,{to:"/login",className:"link",children:"LOGIN"})]})]})]})}),s?Object(n.jsx)("div",{className:"topRight",children:Object(n.jsx)(d.b,{to:"/settings",children:Object(n.jsx)("img",{src:"https://gleaming-pear-wetsuit.cyclic.app/images/"+(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.profilePic),alt:"Profile Pic",className:"topImg"})})}):""]})},m=s(6),O=s(8),h=s(7),g=s.n(h),f=(s(57),s(58),s(59),function(e){var t=e.post;return Object(n.jsxs)("div",{className:"post",children:[t.photo?Object(n.jsx)("img",{src:"https://gleaming-pear-wetsuit.cyclic.app/images/"+t.photo,alt:"",className:"postImg"}):Object(n.jsx)("img",{src:"https://images.pexels.com/photos/574077/pexels-photo-574077.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"",className:"postImg"}),Object(n.jsxs)("div",{className:"postInfo",children:[Object(n.jsx)("div",{className:"postCats",children:t.categories.map((function(e,t){return Object(n.jsx)("span",{children:e.name},e+t)}))}),Object(n.jsx)(d.b,{to:"/post/"+t._id,className:"link",children:Object(n.jsx)("span",{className:"postTitle",children:t.title})}),Object(n.jsx)("hr",{}),Object(n.jsx)("span",{className:"postDate",children:new Date(t.date).toDateString()})]}),Object(n.jsx)("p",{className:"postDesc",children:t.description})]})}),x=function(e){var t=e.posts;return Object(n.jsx)("div",{className:"posts",children:t.length>0?t.map((function(e){return Object(n.jsx)(f,{post:e},e._id)})):"No Posts Yet..."})},v=(s(60),s(4)),w=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),s=t[0],r=t[1],c=Object(v.e)().search;return Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://gleaming-pear-wetsuit.cyclic.app/api/v1/post/posts"+c);case 2:t=e.sent,s=t.data,r(s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(i,{}),Object(n.jsx)("div",{className:"home",children:Object(n.jsx)(x,{posts:s})})]})},y=(s(61),s(2)),N=function(){var e,t,s,r=Object(a.useContext)(j),c=r.user,i=r.dispatch,o=Object(v.f)(),u=Object(a.useState)(null),p=Object(l.a)(u,2),d=p[0],b=p[1],h=Object(a.useState)(null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.username),f=Object(l.a)(h,2),x=f[0],w=f[1],N=Object(a.useState)(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.email),S=Object(l.a)(N,2),P=S[0],I=S[1],R=Object(a.useState)(null===c||void 0===c||null===(s=c.user)||void 0===s?void 0:s.password),E=Object(l.a)(R,2),k=E[0],C=E[1],F=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.a.delete("https://gleaming-pear-wetsuit.cyclic.app/api/v1/user/"+c.user._id,{data:{userId:c.user._id}});case 4:s=e.sent,console.log(s),200==s.status&&(y.b.success("Account Deleted Successfully"),i({action:"LOGOUT"}),o("/")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),"Request failed with status code 400"==e.t0.message?y.b.error("Bad Request"):"Request failed with status code 401"==e.t0.message?y.b.error("User Not Found"):"Request failed with status code 500"==e.t0.message&&y.b.error("Internal Server Error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var s,a,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c.user.username,c.user.email,e.prev=3,e.next=6,g.a.put("https://gleaming-pear-wetsuit.cyclic.app/api/v1/user/"+c.user._id,{userId:c.user._id,username:x,email:P,password:k,profilePic:d?d.name:c.profilePic});case 6:if(s=e.sent,console.log("settings",s.data),d)try{a=new FormData,console.log("data",a),r=d.name,console.log("filename",r),a.append("name",r),a.append("uploadFile",d),s.profilePic=r,g.a.post("https://gleaming-pear-wetsuit.cyclic.app/api/v1/upload",a),200===s.status?y.b.success("Updated successfully"):200===s.status&&(y.b.success("Updated successfully"),i({action:"UPDATED_USER",payload:s.data}))}catch(n){"Request failed with status code 500"==n.message?y.b.error("Internal Server error"):"Request failed with status code 400"==n.message&&y.b.error("Bad request"),console.log(n)}200===s.status&&(y.b.success("Updated successfully"),i({action:"UPDATED_USER",payload:s.data})),console.log("res",s),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),"Request failed with status code 500"==e.t0.message?y.b.error("Internal Server error OR Username already exists"):"Request failed with status code 400"==e.t0.message?y.b.error("Bad request"):"Request failed with status code 409"==e.t0.message&&y.b.error("Username or Email already exists"),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"settings",children:Object(n.jsxs)("div",{className:"settingsWrapper",children:[Object(n.jsxs)("div",{className:"settingsTitle",children:[Object(n.jsx)("span",{className:"settingsTitleUpdate",children:"Update Your Account"}),Object(n.jsx)("span",{className:"settingsTitleDelete",onClick:F,children:"Delete Your Account"})]}),Object(n.jsxs)("form",{className:"settingsForm",onSubmit:function(e){return q(e)},children:[Object(n.jsx)("label",{children:"Profile Pic"}),Object(n.jsxs)("div",{className:"settingsPP",children:[d?Object(n.jsxs)(n.Fragment,{children:[console.log("uploadfile",d),Object(n.jsx)("img",{src:URL.createObjectURL(d),alt:""})]}):Object(n.jsx)("img",{src:"https://gleaming-pear-wetsuit.cyclic.app/images/"+c.user.profilePic,alt:""}),Object(n.jsx)("label",{htmlFor:"fileInput",children:Object(n.jsx)("i",{className:"settingsPPIcon far fa-user-circle"})}),Object(n.jsx)("input",{id:"fileInput",type:"file",style:{display:"none"},className:"settingsPPInput",onChange:function(e){return b(e.target.files[0])}})]}),Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",placeholder:"Username",name:"name",value:x,onChange:function(e){return w(e.target.value)}}),Object(n.jsx)("label",{children:"email"}),Object(n.jsx)("input",{type:"email",placeholder:"abc@gmail.com",name:"email",value:P,onChange:function(e){return I(e.target.value)}}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:k,onChange:function(e){return C(e.target.value)}}),Object(n.jsx)("button",{className:"settingsSubmit",type:"submit",children:"Update"})]})]})})},S=(s(62),s(63),function(){var e=Object(a.useContext)(j),t=e.user,s=(e.dispatch,Object(a.useState)({})),r=Object(l.a)(s,2),c=r[0],i=r[1],o=Object(v.e)().pathname.split("/")[2],u=Object(a.useState)(""),p=Object(l.a)(u,2),b=p[0],h=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),w=x[0],N=x[1],S=Object(a.useState)(!1),P=Object(l.a)(S,2),I=P[0],R=P[1];Object(a.useEffect)((function(){var e=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://gleaming-pear-wetsuit.cyclic.app/api/v1/post/"+o);case 2:t=e.sent,s=t.data,console.log("data is 32 ",s),i(s),h(s.title),N(s.description);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),console.log("40",c);return Object(n.jsx)("div",{className:"singlePost",children:Object(n.jsxs)("div",{className:"singlePostWrapper",children:[c.photo?Object(n.jsx)("img",{src:"https://gleaming-pear-wetsuit.cyclic.app/images/"+c.photo,alt:"",className:"singlePostImg"}):Object(n.jsx)("img",{src:"https://images.pexels.com/photos/574077/pexels-photo-574077.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"",className:"singlePostImg"}),I?Object(n.jsx)("input",{value:b,onChange:function(e){return h(e.target.value)},className:"singlePostTitleInput",autoFocus:!0,type:"text"}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("h1",{className:"singlePostTitle",children:[b,c.username===(null===t||void 0===t?void 0:t.user.username)&&Object(n.jsxs)("div",{className:"singlePostEdit",children:[Object(n.jsx)("i",{className:"singlePostIcon far fa-edit",onClick:function(){return R(!0)}}),Object(n.jsx)("i",{className:"singlePostIcon far fa-trash-alt",onClick:function(){return function(){var e;console.log("Delete category"),console.log("Post",c._id),g.a.delete("https://gleaming-pear-wetsuit.cyclic.app/api/v1/post/".concat(c._id),{data:{username:null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.username}}).then((function(e){y.b.success("Post deleted successfully"),window.location.href="/"})).catch((function(e){console.log(e.message)}))}()}})]})]})}),Object(n.jsxs)("div",{className:"singlePostInfo",children:[Object(n.jsxs)("span",{children:["Author :",Object(n.jsx)(d.b,{className:"link",to:"/posts/?username="+c.username,children:Object(n.jsxs)("b",{className:"singlePostAuthor",children:[" ",c.username," "]})})]}),Object(n.jsxs)("span",{children:[" ","Date :"," ",Object(n.jsx)("b",{className:"singlePostDate",children:new Date(c.date).toDateString()})]})]}),I?Object(n.jsx)("textarea",{value:w,onChange:function(e){return N(e.target.value)},className:"singlePostDescInput",autoFocus:!0,type:"text"}):Object(n.jsx)("p",{className:"singlePostDesc",children:w}),I&&Object(n.jsx)("button",{className:"singlePostUpdateBtn",onClick:function(){var e;g.a.put("https://gleaming-pear-wetsuit.cyclic.app/api/v1/post/".concat(c._id),{username:null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.username,title:b,description:w}).then((function(e){y.b.success("Post updated successfully"),R(!1)})).catch((function(e){console.log(e.message)}))},children:"Update"})]})})}),P=function(){return Object(n.jsx)("div",{className:"single",children:Object(n.jsx)(S,{})})},I=(s(64),function(){var e=Object(a.useContext)(j),t=e.user,s=(e.dispatch,Object(a.useState)("")),r=Object(l.a)(s,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),p=u[0],d=u[1],b=Object(a.useState)(null),h=Object(l.a)(b,2),f=h[0],x=h[1],w=Object(v.f)(),N=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector(".writeSubmit").style.display="none";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(Object(m.a)().mark((function e(s){var a,r,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,g.a.post("https://gleaming-pear-wetsuit.cyclic.app/api/v1/post",{username:null===t||void 0===t?void 0:t.user.username,title:c,description:p,photo:f?f.name:t.profilePic});case 4:if(a=e.sent,f)try{r=new FormData,n=f.name,r.append("name",n),r.append("uploadFile",f),a.photo=n,g.a.post("https://gleaming-pear-wetsuit.cyclic.app/api/v1/upload",r),200===a.status&&(y.b.success("Uploaded successfully"),console.log("res 46",a.data))}catch(i){"Request failed with status code 500"==i.message?y.b.error("Internal Server error"):"Request failed with status code 400"==i.message&&y.b.error("Bad request"),console.log(i)}console.log("Response from server",a),201==a.status&&(y.b.success("Post created successfully"),w("/post/"+a.data.savedPost._id)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0&&(document.querySelector(".writeSubmit").style.display="block"),"Request failed with status code 500"==e.t0.message?y.b.error("Internal Server error"):"Request failed with status code 400"==e.t0.message&&y.b.error("Bad request"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"write",children:[f&&Object(n.jsx)("img",{className:"writeImg",src:URL.createObjectURL(f),alt:""}),Object(n.jsxs)("form",{action:"",className:"writeForm",onSubmit:S,children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"writeFormGroup",children:[Object(n.jsx)("label",{htmlFor:"fileInput",children:Object(n.jsx)("i",{className:"writeIcon far fa-plus"})}),Object(n.jsx)("input",{id:"fileInput",type:"file",onChange:function(e){return x(e.target.files[0])},style:{display:"none"}}),Object(n.jsx)("input",{className:"writeInput ",placeholder:"Title",type:"text",autoFocus:!0,value:c,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("button",{className:"writeSubmit",type:"submit",onClick:N,children:"Publish"})]})}),Object(n.jsx)("div",{className:"writeFormGroup",children:Object(n.jsx)("textarea",{className:"writeInput writeText",placeholder:"Tell Your Story...",type:"text",autoFocus:!0,value:p,onChange:function(e){return d(e.target.value)}})})]})]})}),R=(s(65),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),s=t[0],r=t[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],p=Object(a.useState)(!1),b=Object(l.a)(p,2),h=(b[0],b[1]),f=Object(a.useContext)(j),x=(f.user,f.dispatch),v=f.isFetching,w=Object(a.useState)(!1),N=Object(l.a)(w,2),S=(N[0],N[1]),P=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector(".loginButton").style.display="none";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){var a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),x({type:"LOGIN_START"}),console.log("Login page sending request to backend"),e.prev=3,S(!0),e.next=7,g.a.post("https://gleaming-pear-wetsuit.cyclic.app/api/v1/auth/login",{username:s,password:o});case 7:200==(a=e.sent).status&&y.b.success("Login Successful"),x({type:"LOGIN_SUCCESS",payload:a.data}),S(!1),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(3),e.t0&&(document.querySelector(".loginButton").style.display="block"),"Request failed with status code 404"==e.t0.message?y.b.error("Login Failed , User not found"):"Request failed with status code 400"==e.t0.message?y.b.error("Login Failed , Please fill all the fields",{type:"error"}):"Request failed with status code 401"==e.t0.message?y.b.error("Login Failed , Password does not match",{type:"error"}):"Request failed with status code 500"==e.t0.message&&y.b.error("Login Failed , Internal Server Error"),x({type:"LOGIN_FAILURE"}),h(!0);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("span",{className:"loginTitle",children:"Login"}),Object(n.jsxs)("form",{className:"loginForm",onSubmit:function(e){return I(e)},children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{className:"loginInput",type:"text",placeholder:"Enter your username",onChange:function(e){return r(e.target.value)},value:s}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{className:"loginInput",type:"password",placeholder:"Enter your password",onChange:function(e){return u(e.target.value)},value:o}),Object(n.jsx)("button",{className:"loginButton",type:"submit",onClick:P,children:"Login"})]}),v&&Object(n.jsx)("h1",{children:"Verifying Credentials"}),Object(n.jsx)(d.b,{to:"/forgotPassword",children:Object(n.jsx)("button",{className:"forgotPasswordBtn",type:"submit",children:"Forgot Password"})}),Object(n.jsx)("span",{className:"loginError",children:"Want to register?"}),Object(n.jsx)(d.b,{to:"/register",children:Object(n.jsx)("button",{className:"registerLoginButton",children:"Register"})})]})}),E=(s(66),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),s=t[0],r=t[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(""),p=Object(l.a)(j,2),b=p[0],h=p[1],f=Object(a.useState)(""),x=Object(l.a)(f,2),w=x[0],N=x[1],S=Object(a.useState)(!1),P=Object(l.a)(S,2),I=(P[0],P[1]),R=Object(a.useState)(!1),E=Object(l.a)(R,2),k=(E[0],E[1]),C=Object(v.f)(),F=function(){var e=Object(O.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector(".registerButton").style.display="none";case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,k(!0),e.next=5,g.a.post("https://gleaming-pear-wetsuit.cyclic.app/api/v1/auth/register",{username:s,email:o,password:b,confirmPassword:w});case 5:201==e.sent.status&&(y.b.success("Registered Successfully"),C("/login")),k(!1),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0&&(document.querySelector(".registerButton").style.display="block"),"Request failed with status code 400"==e.t0.message?y.b.error("Please fill all the fields",{type:"error"}):"Request failed with status code 409"==e.t0.message?y.b.error("Registration Failed , User already exists",{type:"error"}):"Request failed with status code 500"==e.t0.message?y.b.error("Registration Failed , Internal Server Error",{type:"error"}):"Request failed with status code 401"==e.t0.message&&y.b.error("Registration Failed , Password does not match",{type:"error"}),I(!0),k(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"register",children:[Object(n.jsx)("span",{className:"registerTitle",children:"Register"}),Object(n.jsxs)("form",{className:"registerForm",onSubmit:function(e){return q(e)},children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",placeholder:"Enter Your Username",className:"registerInput",onChange:function(e){return r(e.target.value)},value:s}),Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{type:"email",placeholder:"Enter Your Email",className:"registerInput",onChange:function(e){return u(e.target.value)},value:o}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",placeholder:"Enter Your Password",className:"registerInput",onChange:function(e){return h(e.target.value)},value:b}),Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{type:"password",placeholder:"Enter Your Password",className:"registerInput",onChange:function(e){return N(e.target.value)},value:w}),Object(n.jsx)("button",{className:"registerButton",type:"submit",onClick:F,children:"Register"})]}),Object(n.jsx)("span",{className:"registerMessage",children:"Already Registered ? Log In"}),Object(n.jsx)(d.b,{to:"/login",children:Object(n.jsx)("button",{className:"registerSigninButton",children:"Login"})})]})}),k=(s(67),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),s=t[0],r=t[1],c=(Object(a.useContext)(j).user,Object(a.useState)("")),i=Object(l.a)(c,2),o=(i[0],i[1],Object(v.f)()),u=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.querySelector(".forgotButton").style.display="none",e.prev=3,e.next=6,g.a.patch("https://gleaming-pear-wetsuit.cyclic.app/api/v1/auth/forgotPassword",{email:s});case 6:204==e.sent.status&&(y.b.success("OTP sent successfully"),o("/resetPassword")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0&&(document.querySelector(".forgotButton").style.display="block"),"Request failed with status code 404"==e.t0.message?y.b.error("Email not found"):"Request failed with status code 401"==e.t0.message?y.b.error("Please Enter Email Id"):"Request failed with status code 500"==e.t0.message&&y.b.error("Internal Server Error"),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"forgotpass",children:[Object(n.jsx)("span",{className:"forgotTitle",children:"Forgot Password"}),Object(n.jsxs)("form",{className:"forgotForm",children:[Object(n.jsx)("label",{children:"EMAIL"}),Object(n.jsx)("input",{className:"forgotInput",type:"text",placeholder:"Enter email to generate OTP",value:s,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)(d.b,{to:"/resetPassword",children:Object(n.jsx)("button",{className:"forgotButton",onClick:u,children:"SEND OTP"})})]})]})}),C=(s(68),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),s=t[0],r=t[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(""),p=Object(l.a)(j,2),d=p[0],b=p[1],h=Object(a.useState)(""),f=Object(l.a)(h,2),x=f[0],w=f[1],N=Object(v.f)(),S=function(){var e=Object(O.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,g.a.patch("https://gleaming-pear-wetsuit.cyclic.app/api/v1/auth/resetPassword",{email:o,otp:s,password:d,confirmPassword:x});case 4:201==e.sent.status&&(y.b.success("Password reset successfully , Please Login with new password"),N("/login")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"Request failed with status code 404"==e.t0.message?y.b.error("Wrong Otp Entered"):"Request failed with status code 401"==e.t0.message?y.b.error("Please fill all the fields"):"Request failed with status code 400"==e.t0.message?y.b.error("Your otp is expired"):"Request failed with status code 500"==e.t0.message?y.b.error("Internal Server Error"):"Request failed with status code 504"==e.t0.message&&y.b.error("Bad Gateway");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"resetPass",children:[Object(n.jsx)("span",{className:"resetTitle",children:"Reset Password"}),Object(n.jsxs)("form",{className:"resetForm",children:[Object(n.jsx)("label",{children:"Email"}),Object(n.jsx)("input",{className:"resetInput",type:"text",placeholder:"Please Enter Email To Reset Password",value:o,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("label",{children:"OTP"}),Object(n.jsx)("input",{className:"resetInput",type:"text",placeholder:"Enter OTP",value:s,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("label",{children:"NEW PASSWORD"}),Object(n.jsx)("input",{className:"resetInput",type:"password",placeholder:"Enter new password",value:d,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("label",{children:"Confirm Password"}),Object(n.jsx)("input",{className:"resetInput",type:"password",placeholder:"Confirm password",value:x,onChange:function(e){return w(e.target.value)}}),Object(n.jsx)("button",{className:"resetButton",onClick:S,children:"RESET PASSWORD"})]})]})});s(69);var F=function(){var e=Object(a.useContext)(j).user;return Object(n.jsxs)(d.a,{children:[Object(n.jsx)(y.a,{}),Object(n.jsx)(b,{}),Object(n.jsxs)(v.c,{children:[Object(n.jsx)(v.a,{path:"/",element:Object(n.jsx)(w,{})}),Object(n.jsx)(v.a,{path:"/login",element:e?Object(n.jsx)(w,{}):Object(n.jsx)(R,{})}),Object(n.jsx)(v.a,{path:"/register",element:e?Object(n.jsx)(w,{}):Object(n.jsx)(E,{})}),Object(n.jsx)(v.a,{path:"/settings",element:e?Object(n.jsx)(N,{}):Object(n.jsx)(E,{})}),Object(n.jsx)(v.a,{path:"/posts",element:Object(n.jsx)(w,{})}),Object(n.jsx)(v.a,{path:"/post/:id",element:Object(n.jsx)(P,{})}),Object(n.jsx)(v.a,{path:"/write",element:e?Object(n.jsx)(I,{}):Object(n.jsx)(R,{})}),Object(n.jsx)(v.a,{path:"/forgotPassword",element:Object(n.jsx)(k,{})}),Object(n.jsx)(v.a,{path:"/resetPassword",element:Object(n.jsx)(C,{})})]})]})};c.a.render(Object(n.jsx)(p,{children:Object(n.jsx)(F,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.af8d0b74.chunk.js.map